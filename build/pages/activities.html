<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Japan 2018 Activities</title>

    <link rel="stylesheet" href="../assets/css/main.min.css" />

    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/5.0.4/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/5.0.4/firebase-auth.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-firestore.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-messaging.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>


    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyAQ_5Gs_4AwxScPW-lVbjhUncAVa3Z8w_s",
        authDomain: "my-2018-japan-trip.firebaseapp.com",
        databaseURL: "https://my-2018-japan-trip.firebaseio.com",
        projectId: "my-2018-japan-trip",
        storageBucket: "my-2018-japan-trip.appspot.com",
        messagingSenderId: "794514183543"
      };
      firebase.initializeApp(config);
    </script>

  </head>
  <body>

    <div class="error--wrapper">
      <i class="fas fa-window-close close--error"></i>
      <p class="error--text"></p>
    </div>

    <nav class="navigation--wrapper">
      <ul>
        <li><p href="#" data-user-name></p></li><!--
         --><li><a href="/pages/activities.html">Home</a></li><!--
         --><li><a href="#">My Activities</a></li><!--
         --><li><a href="#" data-activity-modal>Add Activity</a></li><!--
         --><li><a href="#" data-user-email data-logout></a></li>
      </ul>
    </nav>

    <div id="settings--modal" class="modal">
      <div class="user--form">
        <button class="form--back"><i class="fas fa-arrow-alt-circle-left"></i></button>

        <button class="form--show--button" data-update-button="name"><i class="fas fa-user"></i> Update Name</button>
        <label class="update--label">Update Name</label>
        <div class="input--wrapper input--hidden">
          <input type="text" class="input--field" name="name" data-update-text="name" required>
          <label><i class="fas fa-user"></i> Name</label>
        </div>

        <button class="form--show--button" data-update-button="email"><i class="far fa-envelope"></i> Update Email</button>
        <label class="update--label">Update Email</label>
        <div class="input--wrapper input--hidden">
          <input type="text" class="input--field" name="email" data-update-text="email" required>
          <label><i class="far fa-envelope"></i> Email</label>
        </div>

        <button class="form--show--button" data-update-button="password"><i class="fas fa-lock"></i> Update Password</button>
        <label class="update--label">Update Password</label>
        <div class="input--wrapper input--hidden">
          <input type="password" class="input--field" name="password" data-update-text="password" required>
          <label><i class="fas fa-lock"></i> Password</label>
        </div>
        <div class="input--wrapper input--hidden" data-password-confirm-wrapper>
          <input type="password" class="input--field" name="password-confirm" data-update-text="password"-confirm required>
          <label><i class="fas fa-lock"></i> Confirm Password</label>
        </div>
      </div>
      <input type="submit" value="Submit" class="input--hidden update--submit" data-update-submit>
      <button data-logout-confirm class="user--logout">Logout</button>
    </div>

    <div id="activity--modal" class="modal">
      <div class="input--wrapper">
        <input type="text" class="input--field" name="title" data-activity="title" required>
        <label><i class="fas fa-circle"></i> Title</label>
      </div>

      <div class="input--wrapper">
        <input type="text" class="input--field" name="sub_title" data-activity="subtitle" required>
        <label><i class="far fa-circle"></i> Subtitle (Shopping Center)</label>
      </div>

      <div class="textarea--wrapper">
        <textarea type="text" class="input--field" name="description" data-activity="description" required></textarea>
        <label><i class="far fa-file-alt"></i> Description</label>
      </div>

      <div class="input--wrapper">
        <input type="number" class="input--field" name="price" value="0" data-activity="price" required>
        <label><i class="fas fa-dollar-sign"></i> Price</label>
      </div>

      <div class="file--wrapper">
        <input type="file" class="input--field" name="file" data-activity="file" required>
      </div>
      <input type="submit" value="Submit" data-activity-submit class="update--submit">
    </div>


    <div class="activities--wrapper">
      <section class="grid">
      </section>
    </div>

    <div class="activities--content--wrapper">
    </div>


    <script src="../assets/js/vendors.js"></script>
    <script src="../assets/js/app.js"></script>

    <!-- jQuery Modal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

    <script src="../assets/js/pages/activities.js"></script>
    <script src="../assets/js/common/navigation.js"></script>
    <script src="../assets/js/common/error.js"></script>
  </body>
</html>

<script type="text/template" data-template="activity_button">
  <% _.each(activities, function(activity, index) { %>
  <div class="grid--item" href="#" data-ref="<%= index %>">
    <a href="#" data-add-item class="add--item"><i class="far fa-plus-square"></i></a>
    <h2 class="title--preview"><%= activity.title %></h2>
    <div class="loader"></div>
    <span class="category"><%= activity.sub_title %></span>
  </div>
  <% }) %>
</script>

<script type="text/template" data-template="activity_description">
  <% _.each(activities, function(activity) { %>
  <div class="content--show">
    <div class="meta--full">
      <button data-add-item>ADD</button>
      <span class="meta--seperator"></span>
      <span class="meta--user--hearts"><i class="fa fa-heart"></i> <%= activity.users.length %> friends</span>
      <% _.each(activity.users, function(user) { %>
        <span class="meta--users"><%= user.displayName %></span>
      <% }) %>
      <span class="meta--price">$<%= activity.price %></span>
    </div>
    <div class="content--description--wrapper">
      <button class="close--content"><i class="fas fa-times"></i></button>
      <h5 class="content--sub--title"><%= activity.sub_title %></h5>
      <h3 class="content--main--title"><%= activity.title %></h3>
      <img src="<%= activity.image %>">
      <p class="content--description"><%= activity.description %></p>
    </div>
  </div>
  <% }) %>
</script>
